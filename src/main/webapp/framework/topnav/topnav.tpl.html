<!-- Created by L.H.S on 2017/8/14. -->

<nav class="navbar navbar-default" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" ng-click="isNavCollapsed = !isNavCollapsed">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="#">A menu</a>
    </div>
    <div class="collapse navbar-collapse" uib-collapse="isNavCollapsed">
        <ul class="nav navbar-nav">
            <li ng-repeat="na in navList track by $index" class="dropdown" ng-class="{open: isActived(na.state)}">

                <a ui-sref="{{na.state}}" ng-class="{active: isActived(na.state)}"
                   ng-focus="show[$index]=true" ng-blur="show[$index]=false">{{na.text}}</a>

                <ul ng-if="na.type!='home'" ng-show="show[$index]" class="dropdown-menu">
                    <li ng-repeat="child in na.children" class="dropdown">
                        <a>{{child.text}}</a>
                    </li>
                </ul>
            </li>
        </ul>
    </div>
</nav>